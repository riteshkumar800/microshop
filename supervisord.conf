[supervisord]
nodaemon=true
logfile=/dev/null
pidfile=/tmp/supervisord.pid

[program:nginx]
command=/bin/sh -lc "/start.sh"
autostart=true
autorestart=true
priority=5
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2

[program:product]
command=/bin/bash -lc "/app/run-uvicorn.sh /app/product-service 8000"
autostart=true
autorestart=true
priority=10
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2

[program:user]
command=/bin/bash -lc "/app/run-uvicorn.sh /app/user-service 8001"
autostart=true
autorestart=true
priority=10
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2

[program:order]
command=/bin/bash -lc "/app/run-uvicorn.sh /app/order-service 8002"
autostart=true
autorestart=true
priority=10
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2

[program:payment]
command=/bin/bash -lc "/app/run-uvicorn.sh /app/payment-service 8003"
autostart=true
autorestart=true
priority=10
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2
