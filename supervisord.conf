[supervisord]
nodaemon=true
logfile=/dev/null
pidfile=/tmp/supervisord.pid

<<<<<<< HEAD
[program:nginx]
command=/bin/sh -lc "/start.sh"
autostart=true
autorestart=true
priority=5
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2

[program:product]
command=/bin/bash -lc "/app/run-uvicorn.sh /app/product-service 8000"
autostart=true
autorestart=true
priority=10
=======
; ---------- FastAPI apps ----------
[program:product]
command=/bin/bash -lc "/app/run-uvicorn.sh /app/product-service 8000"
autostart=true
autorestart=true
>>>>>>> e1b7f25 (onebox: add run-uvicorn.sh and start uvicorn from src when present)
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2

[program:user]
command=/bin/bash -lc "/app/run-uvicorn.sh /app/user-service 8001"
autostart=true
autorestart=true
<<<<<<< HEAD
priority=10
=======
>>>>>>> e1b7f25 (onebox: add run-uvicorn.sh and start uvicorn from src when present)
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2

[program:order]
command=/bin/bash -lc "/app/run-uvicorn.sh /app/order-service 8002"
autostart=true
autorestart=true
<<<<<<< HEAD
priority=10
=======
>>>>>>> e1b7f25 (onebox: add run-uvicorn.sh and start uvicorn from src when present)
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2

[program:payment]
command=/bin/bash -lc "/app/run-uvicorn.sh /app/payment-service 8003"
autostart=true
autorestart=true
<<<<<<< HEAD
priority=10
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2
=======
stdout_logfile=/dev/fd/1
stderr_logfile=/dev/fd/2

; ---------- Nginx ----------
[program:nginx]
command=/usr/sbin/nginx -g "daemon off;"
priority=999
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr
>>>>>>> e1b7f25 (onebox: add run-uvicorn.sh and start uvicorn from src when present)
